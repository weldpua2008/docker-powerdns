FROM ubuntu:16.04
#
# NOTE: THIS DOCKERFILE IS GENERATED VIA "update.sh"
#
# PLEASE DO NOT EDIT IT DIRECTLY.
#
MAINTAINER Valeriy Solovyov <weldpua2008@gmail.com>
##<autogenerated>##
##</autogenerated>##
ENV PDNS_VERSION 4.0.0
ENV PDNS_FILENAME https://downloads.powerdns.com/releases/pdns-4.0.0.tar.bz2
RUN set -xe && \
	export DEBIAN_FRONTEND="noninteractive" && \
	apt-get update && \
	export BUILD_SRC="$PDNS_FILENAME" && \
	export BUILD_DEP="g++ libboost-all-dev libtool make pkg-config libmysqlclient-dev libssl-dev" && \
	export UNINSTABLE_BUILD_TOOLS="curl bzip2 ca-certificates" && \
	apt-get install -y $BUILD_DEP  $UNINSTABLE_BUILD_TOOLS && \
	curl -fSL -o pdns.tar.bz2 "$BUILD_SRC" && \
	export PDNS_BUILD_TMP="pdns-src" && \
	mkdir -p $PDNS_BUILD_TMP && \
	tar  jxf pdns.tar.bz2 --strip-components=1  -C $PDNS_BUILD_TMP && \
	rm -f pdns.tar.bz2 && \
	cd $PDNS_BUILD_TMP && \
	./configure && \
	make && \
	make install && \
	cd / && \
	rm -rf $PDNS_BUILD_TMP && \
	apt-get clean && \
	rm -rf /var/lib/apt/lists/*

#COPY docker-ext-* /usr/local/bin/

EXPOSE 53 53/udp
